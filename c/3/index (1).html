<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<input type="text"/><button id="btn">发送短信</button>
</body>
<script>
    var btn = document.getElementById("btn");
    var number = 5;
    var timer = null;                                   //定义定时器名字赋值为null
    btn.onclick = function(){                           //btn点击事件
        clearInterval(timer);                           //关闭定时器
        btn.disabled = true;                            //btn为不可点击
        timer = setInterval(daoshu,1000);               //每隔1000毫秒调用一次
        var that = this;                                //这个this指向事件的调用者 即btn
        function daoshu(){
            number--;
            if(number>=0){                               //如果number大于0
                that.innerHTML ="还剩"+number+"秒";        //如果这里用this的话  这个this会指向window  因为window                                                                        .setInterval是事件的调用者
            }
            else{
                that.innerHTML = "重新发送短信";
                btn.disabled = false;                       //重新激活按钮状态
                clearInterval(timer);                       //关闭定时器
                number = 5;                                 //number 的值重新变为5

            }
        }
    }
</script>
</html>